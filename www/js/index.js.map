{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/js/core/toolkit.js","webpack:///./src/js/core/generator.js","webpack:///./src/js/index.js","webpack:///./src/js/ui/grid.js","webpack:///./src/js/core/checker.js","webpack:///./src/js/core/suduko.js","webpack:///./src/js/ui/popupnumbers.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","matrixToolkit","makeRow","v","arguments","length","undefined","array","Array","fill","makeMatrix","_this","this","from","shuffle","endIndex","j","Math","floor","random","_ref","checkFillable","matrix","rowIndex","colIndex","row","column","map","boxIndex","boxToolkit","converToBoxIndex","box","getBoxCells","cellIndex","converFromBoxIndex","startRowIndex","startCollIndex","result","push","Toolkit","_classCallCheck","_createClass","require","Generators","internalgenerate","console","log","orders","fillNumber","fillRow","Grid","PopupNumbers","grid","$","build","layout","popupnumbers","bindPopup","on","e","check","alert","reset","clear","rebuild","Checker","Sudoko","container","_$container","sudoko","make","puzzleMatrix","rowGroupClasses","colGroupClasses","$divArray","rowValues","cellValue","addClass","text","$spanArray","append","width","height","css","line-height","font-size","popupNumbers","$cell","target","is","pupup","data","children","div","span","parseInt","toArray","$data","checker","marks","matrixMarks","each","hasClass","removeClass","find","empty","checkArray","arr","_matrix","_matrixMarks","checkRows","checkCols","checkBoxs","_success","every","mark","col","_Toolkit$box$converFr","Generator","Soduko","generator","generate","solutionMatrix","level","cell","$span","_$span","hide","_$targetCell","_$cell$position","position","left","top","show"],"mappings":"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","file":"index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n","/**\n * 矩阵和数组相关工具\n */\nconst matrixToolkit = {\n     makeRow(v = 0){\n        const array =  new Array(9);\n        array.fill(v);\n        return array;\n    },\n    \n    makeMatrix(v= 0){\n        return Array.from({length:9},() => this.makeRow(v));\n    },\n    \n    /**\n     * Fisher-Yetes算法\n     */\n    shuffle(array){\n        const endIndex = array.length -2;\n        for(let i=0;i<=endIndex;i++){\n            const j = i + Math.floor(Math.random() * (array.length -i));\n            [array[i],array[j]] = [array[j],array[i]];\n        }\n        return array;\n    },\n\n    /**\n     * 检查指位置是否可以填\n     */\n    checkFillable(matrix,n,rowIndex,colIndex){\n        const row = matrix[rowIndex];\n        const column =  this.makeRow().map((v,i) => matrix[i][colIndex]);\n        const { boxIndex } = boxToolkit.converToBoxIndex(rowIndex,colIndex);\n        const box = boxToolkit.getBoxCells(matrix,boxIndex);\n\n        for(let i=0;i<9;i++){\n            if(row[i] === n || column[i] === n || box[i] === n){\n                return false;\n            }\n        }\n        return true;\n    }\n}\n\n/**\n * 宫坐标系工具\n */\n\n const boxToolkit ={\n\n    /**\n     * 根据矩阵的横纵坐标取宫的坐标\n     */\n    converToBoxIndex(rowIndex,colIndex){\n        return{ \n            boxIndex: Math.floor(rowIndex/3) * 3 + Math.floor(colIndex/3),\n            cellIndex: rowIndex % 3 * 3 + colIndex % 3,\n        }\n    },\n\n    converFromBoxIndex(boxIndex,cellIndex){\n        return{\n            rowIndex: Math.floor(boxIndex/3) * 3 + Math.floor(cellIndex/3),\n            colIndex: boxIndex % 3 * 3 + cellIndex % 3,\n        }\n    },\n    getBoxCells(matrix,boxIndex){\n        const startRowIndex = Math.floor(boxIndex / 3) * 3;\n        const startCollIndex = boxIndex % 3 * 3;\n        const result = [];\n        for(let i = 0;i < 9;i ++){\n            const rowIndex = startRowIndex  + Math.floor(i/3);\n            const cellIndex = startCollIndex + i % 3; \n            result.push(matrix[rowIndex][cellIndex]);\n        }\n        return result;\n     }\n }\n\nmodule.exports = class Toolkit{\n    static get matrix(){\n        return matrixToolkit;\n    }\n\n    static get box(){\n        return boxToolkit;\n    }\n};","const Toolkit = require(\"./toolkit\");\n\nclass Generators{\n\n    generate(){\n        while(!this.internalgenerate()){\n            console.log('try again...');\n        }\n        return this.matrix;\n    }\n    internalgenerate(){\n        this.matrix = Toolkit.matrix.makeMatrix();\n        this.orders = Toolkit.matrix.makeMatrix()\n            .map(row => row.map((v,i) => i))\n            .map(row => Toolkit.matrix.shuffle(row));\n\n        for(let n=1;n<=9; n++){\n            if(!this.fillNumber(n)){\n                return false;\n            }\n        }\n\n        return true;\n    }\n\n    /**\n     * 给矩阵每行都填充一个数字n\n     */\n    fillNumber(n){\n        return this.fillRow(n,0);\n    }\n\n    /**\n     * 递归的给每行填充一个数字 n\n     */\n    fillRow(n,rowIndex){\n        if(rowIndex > 8){\n            return true;\n        }\n        const row = this.matrix[rowIndex];\n        //随机选个列\n        const orders = this.orders[rowIndex]\n\n\n        for(let i=0;i<9;i++){   \n            const colIndex = orders[i];\n\n            //如果这个位置有数字 跳过\n            if(row[colIndex]){\n                continue\n            }\n            //检查这个位置是否可以填入\n            if(!Toolkit.matrix.checkFillable(this.matrix,n,rowIndex,colIndex)){\n                continue\n            }\n            row[colIndex] = n;\n            if(!this.fillRow(n,rowIndex + 1)){\n                row[colIndex] = 0;\n                continue;\n            }\n\n            return true;\n        }\n\n        return false;\n\n    }\n}\n\nmodule.exports = Generators;","const Toolkit = require('./core/toolkit');\n\nconst Grid = require(\"./ui/grid\");\nconst PopupNumbers = require('./ui/popupnumbers');\n \nconst grid = new Grid($(\"#container\"));\n grid.build();\n grid.layout();\n\n const popupnumbers = new PopupNumbers($(\"#popupNumbers\"));    \n grid.bindPopup(popupnumbers);\n\n $(\"#check\").on(\"click\",e=>{\n     if(grid.check()){\n         alert('您真棒！');\n     }\n });\n $(\"#reset\").on(\"click\",e=>{\n     grid.reset();\n });\n $(\"#clear\").on(\"click\",e=>{\n     grid.clear();\n });\n $(\"#rebuild\").on(\"click\",e=>{\n    grid.rebuild();\n });\n\n ","const Toolkit = require('../core/toolkit');\nconst Generators = require('../core/generator');\nconst Checker = require('../core/checker');\nconst Sudoko = require('../core/suduko');\n\nclass Grid{\n    constructor(container){\n       this._$container = container;\n    }\n\n    build(){\n       // const matrix =Toolkit.matrix.makeMatrix();   \n       const sudoko = new Sudoko();\n       sudoko.make();\n       const matrix =sudoko.puzzleMatrix;\n\n       const rowGroupClasses = [\"row-g-top\",\"row-g-middle\",\"row-g-bottom\"];\n       const colGroupClasses = [\"col-g-left\",\"col-g-middle\",\"col-g-right\"];\n       const $cells = matrix.map(rowValues => rowValues.map((cellValue,colIndex)=>{\n           return $(\"<span>\")\n                   .addClass(colGroupClasses[colIndex % 3])\n                   .addClass(cellValue ?  \"fixed\" : \"empty\")\n                   .text(cellValue);\n       }));\n\n       const $divArray = $cells.map(($spanArray,rowIndex) => {\n           return $(\"<div>\")\n               .addClass(\"row\")\n               .addClass(rowGroupClasses[rowIndex % 3])\n               .append($spanArray);\n       });\n\n       this._$container.append($divArray);\n    }\n\n    layout(){\n       const width = $(\"span:first\",this._$container).width();\n       $(\"span\").height(width).css({\n           'line-height':`${width}px`,\n           'font-size': width < 32 ? `${width /2}px`: \"\"\n       });\n    }\n\n    bindPopup(popupNumbers){\n        this._$container.on(\"click\",\"span\",e=>{\n            const $cell = $(e.target);\n            if($cell.is(\".fixed\")){\n                return;\n            }\n            popupNumbers.pupup($cell);\n        });\n    }\n\n    check(){\n\n        //取页面上的数据\n        const $rows = this._$container.children();\n        const data = $rows.map((rowIndex,div) => {\n            return $(div).children().map((colIndex,span) => {\n                return parseInt($(span).text() || 0);\n            });\n        })\n        .toArray()\n        .map($data => $data.toArray());\n\n        const $row = this._$container.children(data);\n        const checker = new Checker(data);\n        if(checker.check()){\n            return true;\n        }\n\n        //检查不成功，进行标记\n        const marks = checker.matrixMarks;\n        this._$container.children().each((rowIndex,div) => {\n            $(div).children().each((colIndex,span) => {\n                const $span = $(span);\n                if($span.hasClass(\"fixed\") || marks[rowIndex][colIndex]){\n                    $(span).removeClass(\"error\");\n                }else{\n                    $(span).addClass(\"error\");\n                }\n            });\n        });\n\n\n    }\n\n    /**\n     * 重建游戏到初始化状态\n     */\n    reset(){\n        this._$container.find(\"span:not(.fixed)\")\n            .removeClass(\"error mark1 mark2\")\n            .addClass(\"empty\")\n            .text(0);\n    }\n\n    /**\n     * 清除错误标记\n     */\n    clear(){\n        this._$container.find(\"span.error\")\n            .removeClass(\"error\");\n        this._$container.find(\"span.mark1\")\n            .removeClass(\"mark1\");\n            this._$container.find(\"span.mark2\")\n            .removeClass(\"mark2\");\n    }\n\n    rebuild(){\n        this._$container.empty();\n        this.build();\n        this.layout();\n    }\n}\n\nmodule.exports = Grid;","//检查数独的方法\n\nfunction checkArray(arr){\n    const length = arr.length;\n    const marks = new Array(length);\n    marks.fill(true);\n    for(let i=0;i<length-1;i++){\n        const v = arr[i];\n        if(!marks[i]){\n            continue;\n        }\n        // 0 无效\n        if(!v){\n            marks[i] = false;\n            continue;\n        }\n        // 重复的无效\n        for(let j=i+1;j<length;j++){\n            if(v === arr[j]){\n                marks[i] = marks[j] = false;\n            }\n        }\n    }\n    return marks;\n}\n\nconst Toolkit = require('./toolkit');\n/**\n * 检查数独\n */\nclass Checker {\n    constructor(matrix){\n        this._matrix = matrix;\n        this._matrixMarks = Toolkit.matrix.makeMatrix(true);\n    }\n\n    get matrixMarks() {\n        return this._matrixMarks;\n    }\n\n    get isSuccess(){\n        return this._success;\n    }\n    check(){\n        this.checkRows();\n        this.checkCols();\n        this.checkBoxs();\n\n        //\n        this._success = this._matrixMarks.every(row => row.every(mark => mark));\n        return this._success;\n    }\n\n    checkRows(){\n        for(let rowIndex=0;rowIndex<9;rowIndex++){\n            const row = this._matrix[rowIndex];\n            const marks = checkArray(row);\n\n            for(let colIndex=0;colIndex<marks.length;colIndex++){\n                if(!marks[colIndex]){\n                    this._matrixMarks[rowIndex][colIndex] = false;\n                }\n            }\n        }\n    }\n\n    checkCols(){\n        for(let colIndex=0;colIndex<9;colIndex++){\n            const col = [];\n            for(let rowIndex=0;rowIndex<9;rowIndex++){\n                col[rowIndex] = this._matrix[rowIndex][colIndex];\n            }\n\n            const marks = checkArray(col);\n            for(let rowIndex=0;rowIndex<marks.length;rowIndex++){\n                if(!marks[rowIndex]){\n                    this._matrixMarks[rowIndex][colIndex] = false;\n                }\n            }\n        }\n    }\n\n    checkBoxs(){\n        for(let boxIndex=0;boxIndex<9;boxIndex++){\n            const box = Toolkit.box.getBoxCells(this._matrix,boxIndex);\n\n            const marks = checkArray(box);\n            for(let cellIndex=0;cellIndex<marks.length;cellIndex++){\n                if(!marks[cellIndex]){\n                    const {rowIndex,colIndex} = Toolkit.box.converFromBoxIndex(boxIndex,cellIndex);\n                    this._matrixMarks[rowIndex][colIndex] = false;\n                }\n            }\n        }\n    }\n}\n\nmodule.exports = Checker;","//生成数独游戏\n\n\n//1.生成完整的解决方案\n\n//2.随机去除部分：按比例\n\nconst Generator = require('./generator');\n\nmodule.exports = class Soduko{\n    constructor(){\n        const generator = new Generator();\n        generator.generate();\n        //完整的数独\n        this.solutionMatrix = generator.matrix;\n    }\n    /**\n     * \n     * @param {*} level 游戏难度级别 \n     */\n    make(level = 6){\n        //const shoud\n        this.puzzleMatrix = this.solutionMatrix.map(row => {\n            return row.map(cell =>{\n                return Math.random() * 9 < level ? 0 : cell;\n            });\n        });\n    }\n}","//处理弹出操作页面\n\nmodule.exports = class PopupNumbers{\n    constructor($span){\n        this._$span = $span.hide().removeClass(\"hidden\");\n\n        this._$span.on(\"click\",\"span\",e=>{\n            const $cell = this._$targetCell;\n            const $span = $(e.target);\n\n            if($span.hasClass(\"mark1\")){\n                if($cell.hasClass(\"mark1\")){\n                    $cell.removeClass(\"mark1\");\n                }else{\n                    $cell.removeClass(\"mark2\").addClass(\"mark1\");\n                }\n            }else if($span.hasClass(\"mark2\")){\n                if($cell.hasClass(\"mark2\")){\n                    $cell.removeClass(\"mark2\");\n                }else{\n                    $cell.removeClass(\"mark1\").addClass(\"mark2\");\n                }\n            }else if($span.hasClass(\"empty\")){\n                $cell.text(0).addClass(\"empty\");\n            }else{\n                $cell.removeClass(\"empty\").text($span.text());\n            }\n            this.hide();\n        });\n    }\n\n    pupup($cell){\n        this._$targetCell = $cell;\n        const {left,top} = $cell.position();\n        this._$span.css({\n            left:`${left}px`,\n            top:`${top}px`,\n        }).show();\n    }\n\n    hide(){\n        this._$span.hide();\n    }\n}"],"sourceRoot":""}